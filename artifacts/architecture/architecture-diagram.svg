<svg xmlns="http://www.w3.org/2000/svg" width="1024" height="768" viewBox="0 0 1024 768" font-family="Arial" font-size="14" fill="#1b1b1b">
  <rect width="1024" height="768" fill="#f5f7fb"/>
  <text x="40" y="40" font-size="24" font-weight="bold">Talkam Liberia - System Architecture</text>
  <!-- Clients -->
  <rect x="40" y="80" width="220" height="120" rx="12" fill="#ffffff" stroke="#1d4ed8" stroke-width="2"/>
  <text x="60" y="110" font-weight="bold">Clients</text>
  <text x="60" y="135">Flutter Mobile (Android/iOS)</text>
  <text x="60" y="155">Flutter Web Dashboards</text>
  <text x="60" y="175">SMS/USSD Gateway</text>
  <text x="60" y="195">Offline Queue + Encryption</text>
  <!-- Edge -->
  <rect x="300" y="80" width="200" height="120" rx="12" fill="#ffffff" stroke="#0f172a" stroke-width="2"/>
  <text x="320" y="110" font-weight="bold">Edge &amp; Gateway</text>
  <text x="320" y="135">CDN + WAF</text>
  <text x="320" y="155">API Gateway</text>
  <text x="320" y="175">Rate limiting</text>
  <!-- Core Services -->
  <rect x="540" y="60" width="420" height="200" rx="16" fill="#e0f2fe" stroke="#0284c7" stroke-width="2"/>
  <text x="560" y="90" font-size="18" font-weight="bold">FastAPI Service Mesh</text>
  <rect x="560" y="110" width="180" height="60" rx="10" fill="#ffffff" stroke="#1d4ed8" stroke-width="1.5"/>
  <text x="570" y="135" font-weight="bold">Auth Service</text>
  <text x="570" y="155">JWT, anon tokens, MFA</text>
  <rect x="760" y="110" width="180" height="60" rx="10" fill="#ffffff" stroke="#1d4ed8" stroke-width="1.5"/>
  <text x="770" y="135" font-weight="bold">Reporting API</text>
  <text x="770" y="155">Reports, media, search</text>
  <rect x="560" y="180" width="180" height="60" rx="10" fill="#ffffff" stroke="#1d4ed8" stroke-width="1.5"/>
  <text x="570" y="205" font-weight="bold">Verification</text>
  <text x="570" y="225">Witness, AI triage</text>
  <rect x="760" y="180" width="180" height="60" rx="10" fill="#ffffff" stroke="#1d4ed8" stroke-width="1.5"/>
  <text x="770" y="205" font-weight="bold">Notifications</text>
  <text x="770" y="225">FCM, SMS, Webhooks</text>
  <!-- Data Layer -->
  <rect x="140" y="260" width="280" height="160" rx="16" fill="#ecfccb" stroke="#65a30d" stroke-width="2"/>
  <text x="160" y="290" font-size="18" font-weight="bold">Data Layer</text>
  <text x="160" y="315">PostgreSQL (encrypted)</text>
  <text x="160" y="335">Redis cache &amp; queues</text>
  <text x="160" y="355">RabbitMQ jobs</text>
  <text x="160" y="375">Elasticsearch geo/search</text>
  <!-- Storage -->
  <rect x="460" y="300" width="220" height="120" rx="16" fill="#fef3c7" stroke="#f97316" stroke-width="2"/>
  <text x="480" y="330" font-size="16" font-weight="bold">Media Storage</text>
  <text x="480" y="355">S3 + signed URLs</text>
  <text x="480" y="375">Lifecycle policies</text>
  <!-- AI/ML -->
  <rect x="720" y="300" width="240" height="120" rx="16" fill="#f3e8ff" stroke="#a855f7" stroke-width="2"/>
  <text x="740" y="330" font-size="16" font-weight="bold">AI/ML Workers</text>
  <text x="740" y="355">Transcription</text>
  <text x="740" y="375">Triage &amp; classification</text>
  <text x="740" y="395">Authenticity checks</text>
  <!-- Dashboards -->
  <rect x="320" y="460" width="380" height="140" rx="16" fill="#e2e8f0" stroke="#475569" stroke-width="2"/>
  <text x="340" y="490" font-size="18" font-weight="bold">Dashboards</text>
  <text x="340" y="515">NGO / Journalist / Gov / Admin web apps</text>
  <text x="340" y="535">Real-time feed via WebSocket</text>
  <text x="340" y="555">Exports, analytics, moderation</text>
  <!-- Arrows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#0f172a" />
    </marker>
  </defs>
  <line x1="260" y1="140" x2="300" y2="140" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="500" y1="140" x2="540" y2="140" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="480" y1="200" x2="540" y2="200" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="650" y1="260" x2="650" y2="300" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="830" y1="260" x2="830" y2="300" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="650" y1="420" x2="650" y2="460" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="520" y1="420" x2="520" y2="460" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="320" y1="340" x2="320" y2="460" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)"/>
</svg>
