from fastapi import FastAPI

from .api import admin, auth, media, ngos, reports
from .config import get_settings

settings = get_settings()
app = FastAPI(title=settings.app_name, version="0.1.0", openapi_url=f"{settings.api_v1_prefix}/openapi.json")

app.include_router(auth.router, prefix=settings.api_v1_prefix)
app.include_router(reports.router, prefix=settings.api_v1_prefix)
app.include_router(media.router, prefix=settings.api_v1_prefix)
app.include_router(ngos.router, prefix=settings.api_v1_prefix)
app.include_router(admin.router, prefix=settings.api_v1_prefix)


@app.get("/")
async def healthcheck() -> dict[str, str]:
    return {"status": "ok", "app": settings.app_name}
