# ============================================================================
# Talkam Liberia Backend - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control (it's in .gitignore)

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
# Application name displayed in API documentation
APP_NAME="Talkam Liberia API"

# API version prefix for all endpoints (e.g., /v1/reports)
API_V1_PREFIX="/v1"

# Secret key for JWT token signing and encryption
# Generate a secure key with: openssl rand -hex 32
# IMPORTANT: Use a strong, random secret in production!
SECRET_KEY=changeme-please-generate-secure-key

# JWT token expiration times (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=60        # Access token lifetime
REFRESH_TOKEN_EXPIRE_MINUTES=10080    # Refresh token lifetime (7 days)

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
# Connection string for PostgreSQL database
# Format: postgresql+asyncpg://username:password@host:port/database
# For local Docker: postgresql+asyncpg://talkam:talkam@localhost:5432/talkam
# For managed services (Neon, Supabase, etc.): Use provided connection string
POSTGRES_DSN=postgresql+asyncpg://talkam:talkam@localhost:5432/talkam

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
# Redis URL for caching and job queue
# Format: redis://password@host:port/db
# For local Docker: redis://localhost:6379/0
# For managed services (Upstash, Redis Cloud): Use provided URL
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# Storage Configuration (S3-compatible)
# ----------------------------------------------------------------------------
# S3 endpoint URL
# For local MinIO: http://127.0.0.1:9000
# For AWS S3: https://s3.amazonaws.com
# For other providers: Use provider's endpoint
S3_ENDPOINT=http://127.0.0.1:9000

# S3 access credentials
# For local MinIO: Use default credentials or set in MinIO
# For AWS: Use IAM access key ID
S3_ACCESS_KEY=minioadmin

# S3 secret key
# For local MinIO: Use default secret or set in MinIO
# For AWS: Use IAM secret access key
S3_SECRET_KEY=minioadmin

# S3 bucket name for storing media files
BUCKET_REPORTS=talkam-media

# ----------------------------------------------------------------------------
# Message Queue (RabbitMQ)
# ----------------------------------------------------------------------------
# RabbitMQ connection URL for background jobs
# Format: amqp://username:password@host:port/vhost
# Optional: Can be omitted if not using background jobs
RABBITMQ_URL=amqp://talkam:talkam@localhost:5672/

# ----------------------------------------------------------------------------
# SMS Gateway Configuration
# ----------------------------------------------------------------------------
# SMS gateway API endpoint
# For Orange Liberia: https://api.orange.liberia.com/sms
# For Lonestar MTN: https://api.lonestarmtn.com/sms/v1
# Optional: Can be omitted if not using SMS
SMS_GATEWAY_URL=https://sandbox-sms-gateway.example/send

# SMS gateway authentication token
# Obtain from your SMS provider
SMS_GATEWAY_TOKEN=demo-token

# SMS short code (phone number for receiving reports via SMS)
SMS_SHORT_CODE=8888

# ----------------------------------------------------------------------------
# Email Configuration
# ----------------------------------------------------------------------------
# Admin contact email for security notifications
ADMIN_CONTACT_EMAIL=security@talkamliberia.org

# ----------------------------------------------------------------------------
# Sentry Error Tracking (Optional)
# ----------------------------------------------------------------------------
# Enable Sentry error tracking
# Set to true to enable, false to disable
ENABLE_SENTRY=false

# Sentry DSN (Data Source Name)
# Obtain from https://sentry.io after creating a project
# Format: https://key@host/project-id
SENTRY_DSN=

# Sentry environment (development, staging, production)
SENTRY_ENVIRONMENT=development

# Sentry trace sample rate (0.0 to 1.0)
# 0.1 = 10% of requests will be traced
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# Production Configuration Notes
# ============================================================================
#
# 1. SECRET_KEY: MUST be changed to a secure random value
#    Generate with: openssl rand -hex 32
#
# 2. Database: Use managed database service (AWS RDS, Neon, Supabase)
#    - Enable connection pooling
#    - Enable automated backups
#    - Use SSL/TLS connections
#
# 3. Redis: Use managed Redis service (AWS ElastiCache, Upstash)
#    - Enable persistence
#    - Configure backup strategy
#
# 4. Storage: Use production S3 bucket
#    - Enable versioning
#    - Configure lifecycle policies
#    - Set up proper IAM roles
#
# 5. SMS Gateway: Configure production credentials
#    - Test with sandbox first
#    - Set up webhooks for SMS ingestion
#
# 6. Sentry: Enable in production for error tracking
#    - Set SENTRY_ENVIRONMENT=production
#    - Configure alerting rules
#
# ============================================================================
